You are a senior engineer. Produce a **unified diff only**.
Fix/refactor with the **smallest** change in the specified files.
Follow `.cursor/rules.md`.

**Context**
<paste error stack or code snippet>

**Files**
- <list files here>

Constraints: no new deps; no broad formatting; keep scope surgical.
Output only the diff.
